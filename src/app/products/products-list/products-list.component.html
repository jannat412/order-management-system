<div class="row">
    <!-- sidebar -->
    <aside class="col-sm-3 col-sm-offset-9 col-md-2 col-md-offset-10 sidebar">
        <oms-cart></oms-cart>
        <oms-category-filter-menu (filterByActive)="doFilterActive($event)"
                                  (filterByCategory)="doFilterCategory($event)">
        </oms-category-filter-menu>
    </aside>

    <!-- products table -->
    <div class="col-sm-9 col-md-10 main">
        <div class="panel panel-primary">
            <div class=" panel-heading">{{listProductTitle}}</div>
            <div class="panel-body">

                <oms-name-filter-list (filterBy)="doFilter($event)"></oms-name-filter-list>
                <oms-products-selection (filterBySelected)="doFilterSelected($event)"></oms-products-selection>
                <div class="table-responsive table-hover table-condensed"
                     *ngIf="products?.length">
                    <table class="table table-striped">
                        <tbody>
                        <tr [isActive]="product.active"
                            [styleKo]="'disabled'"
                            [ngClass]="getCategoryClass(product.categoryKey)"
                            [class.selected]="product.selected"
                            *ngFor="let product of products |
                                    productFilter:listFilter |
                                    productCategoryFilter:categoryFilter |
                                    productActiveFilter:activeFilter |
                                    productSelectedFilter:selectedFilter">

                            <td></td>
                            <td><img [src]="getThumbUrl(product.imgName)"
                                     class="img-thumbnail"></td>
                            <td>
                                <a [routerLink]="['/producte', product.$key]">{{product.name}}</a>
                                <br>
                                <p class="label label-primary">
                                    {{product.price | number:'1.2-2'}} â‚¬ / {{product.unity}}
                                </p>
                            </td>
                            <td>
                                <oms-product-tags
                                        [productKey]="product.$key">
                                </oms-product-tags>
                            </td>
                            <td>
                                <small>{{product.comment}}</small>
                            </td>
                            <td>
                                <oms-product-count [product]="product"
                                                   *ngIf="product.active">
                                </oms-product-count>
                                <span *ngIf="!product.active"
                                      class="label label-danger">No disponible</span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <oms-footer></oms-footer>
    </div>
</div>